<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-proxy-endpoint" content=""><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="李东风R教程学习笔记" /><meta property="og:locale" content="en_US" /><meta name="description" content="教程地址" /><meta property="og:description" content="教程地址" /><link rel="canonical" href="/posts/Lidongfeng-R-learning-notes/" /><meta property="og:url" content="/posts/Lidongfeng-R-learning-notes/" /><meta property="og:site_name" content="Jiahong’s Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-05-07T00:00:00+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="李东风R教程学习笔记" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-05-07T00:00:00+00:00","datePublished":"2022-05-07T00:00:00+00:00","description":"教程地址","headline":"李东风R教程学习笔记","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/Lidongfeng-R-learning-notes/"},"url":"/posts/Lidongfeng-R-learning-notes/"}</script><title>李东风R教程学习笔记 | Jiahong's Blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Jiahong's Blog"><meta name="application-name" content="Jiahong's Blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/favicons/android-chrome-512x512.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Jiahong's Blog</a></div><div class="site-subtitle font-italic">A text-focused Jekyll theme</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/sunjh22" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['1290139464','qq.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>李东风R教程学习笔记</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>李东风R教程学习笔记</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1651881600" data-df="ll" data-toggle="tooltip" data-placement="bottom"> May 7, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/sunjh22">Sun Jiahong</a> </em> </span><div> <span> <em id="pv" class="pageviews"> <i class="fas fa-spinner fa-spin fa-fw"></i> </em> views </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="4927 words"> <em>27 min</em> read</span></div></div></div><div class="post-content"><p><a href="https://www.math.pku.edu.cn/teachers/lidf/docs/Rbook/html/_Rbook/index.html">教程地址</a></p><h2 id="安装r"><span class="mr-2">安装R</span><a href="#安装r" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>指定镜像网站</p><div class="language-R highlighter-rouge"><div class="code-header"> <span data-label-text="R"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">options</span><span class="p">(</span><span class="n">repos</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="n">CRAN</span><span class="o">=</span><span class="s2">"https://mirror.tuna.tsinghua.edu.cn/CRAN/"</span><span class="p">))</span><span class="w">
</span><span class="n">install.packages</span><span class="p">(</span><span class="s2">"sos"</span><span class="p">)</span><span class="w">
</span></pre></table></code></div></div><p>安装包时指定镜像网站和安装路径</p><div class="language-R highlighter-rouge"><div class="code-header"> <span data-label-text="R"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">install.packages</span><span class="p">(</span><span class="s2">"sos"</span><span class="p">,</span><span class="w"> </span><span class="n">repos</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="n">lib</span><span class="o">=</span><span class="s2">""</span><span class="p">)</span><span class="w">
</span></pre></table></code></div></div><h2 id="保存数据"><span class="mr-2">保存数据</span><a href="#保存数据" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-R highlighter-rouge"><div class="code-header"> <span data-label-text="R"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="c1"># save all objects in environment</span><span class="w">
</span><span class="n">save.image</span><span class="p">(</span><span class="s2">"to/path/all_data.Rdata"</span><span class="p">)</span><span class="w">
</span><span class="n">load</span><span class="p">(</span><span class="s2">"to/path/all_data.Rdata"</span><span class="p">)</span><span class="w">

</span><span class="c1"># save several objects</span><span class="w">
</span><span class="n">save</span><span class="p">(</span><span class="n">data1</span><span class="p">,</span><span class="w"> </span><span class="n">data2</span><span class="p">,</span><span class="w"> </span><span class="s2">"to/path/two_objects.Rdata"</span><span class="p">)</span><span class="w">
</span><span class="n">load</span><span class="p">(</span><span class="s2">"to/path/two_objects.Rdata"</span><span class="p">)</span><span class="w">

</span><span class="c1"># save single object, both save() and saveRDS() work, but readRDS() could set a new name to object</span><span class="w">
</span><span class="n">saveRDS</span><span class="p">(</span><span class="n">data1</span><span class="p">,</span><span class="w"> </span><span class="s2">"to/path/single_object.Rdata"</span><span class="p">)</span><span class="w">
</span><span class="n">new_data_load</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">readRDS</span><span class="p">(</span><span class="s2">"to/path/single_object.Rdata"</span><span class="p">)</span><span class="w">
</span></pre></table></code></div></div><h2 id="数据类型与相应计算"><span class="mr-2">数据类型与相应计算</span><a href="#数据类型与相应计算" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>R是“动态类型”语言， 赋值实际上是“绑定”（binding）， 即将一个变量名与一个存储地址联系在一起， 同一个存储地址可以有多个变量名与其联系</p><h3 id="数值型向量及其运算"><span class="mr-2">数值型向量及其运算</span><a href="#数值型向量及其运算" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><code class="language-plaintext highlighter-rouge">numeric()</code>函数可以用来初始化一个指定元素个数而元素都等于零的数值型向量， 如<code class="language-plaintext highlighter-rouge">numeric(10)</code>会生成元素为10个零的向量</p><p><code class="language-plaintext highlighter-rouge">vector("list", 10)</code>函数可以用来初始化一个有10个元素的空列表</p><p>常用的数学函数:</p><ul><li>舍入： <code class="language-plaintext highlighter-rouge">ceiling</code>, <code class="language-plaintext highlighter-rouge">floor</code>, <code class="language-plaintext highlighter-rouge">round</code>, <code class="language-plaintext highlighter-rouge">signif</code>, <code class="language-plaintext highlighter-rouge">trunc</code>, <code class="language-plaintext highlighter-rouge">zapsmall</code><li>符号函数 <code class="language-plaintext highlighter-rouge">sign</code><li>绝对值 <code class="language-plaintext highlighter-rouge">abs</code><li>平方根 <code class="language-plaintext highlighter-rouge">sqrt</code><li>对数与指数函数 <code class="language-plaintext highlighter-rouge">log</code>, <code class="language-plaintext highlighter-rouge">exp</code>, <code class="language-plaintext highlighter-rouge">log10</code>, <code class="language-plaintext highlighter-rouge">log2</code><li>三角函数 <code class="language-plaintext highlighter-rouge">sin</code>, <code class="language-plaintext highlighter-rouge">cos</code>, <code class="language-plaintext highlighter-rouge">tan</code><li>贝塔函数 <code class="language-plaintext highlighter-rouge">beta</code><li>伽玛函数 <code class="language-plaintext highlighter-rouge">gamma</code></ul><p>如果自己编写的函数没有考虑向量化问题， 可以用Vectorize()函数将其转换成向量化版本</p><p>排序函数: sort(x)返回排序结果。 rev(x)返回把各元素排列次序反转后的结果。 order(x)返回排序用的下标 <code class="language-plaintext highlighter-rouge">gtools::mixedsort(c("v10", "v7", "v2"))</code>可以按字符中的数字进行排序</p><p>统计函数: <code class="language-plaintext highlighter-rouge">sum</code>(求和), <code class="language-plaintext highlighter-rouge">mean</code>(求平均值), <code class="language-plaintext highlighter-rouge">var</code>(求样本方差), <code class="language-plaintext highlighter-rouge">sd</code>(求样本标准差), <code class="language-plaintext highlighter-rouge">min</code>(求最小值), <code class="language-plaintext highlighter-rouge">max</code>(求最大值), <code class="language-plaintext highlighter-rouge">range</code>(求最小值和最大值), <code class="language-plaintext highlighter-rouge">prod</code>求所有元素的乘积, <code class="language-plaintext highlighter-rouge">cumsum</code>和<code class="language-plaintext highlighter-rouge">cumprod</code>计算累加和累乘积</p><p>生成规则序列的函数： <code class="language-plaintext highlighter-rouge">seq</code>, <code class="language-plaintext highlighter-rouge">rep</code></p><h3 id="逻辑型向量及其运算"><span class="mr-2">逻辑型向量及其运算</span><a href="#逻辑型向量及其运算" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>函数<code class="language-plaintext highlighter-rouge">match(x, y)</code>起到和<code class="language-plaintext highlighter-rouge">x %in% y</code>运算类似的作用，返回x中的每个元素在y中首次出现的下标，找不到时取NA</p><p>用<code class="language-plaintext highlighter-rouge">xor(x, y)</code>表示<code class="language-plaintext highlighter-rouge">x</code>与<code class="language-plaintext highlighter-rouge">y</code>的异或运算，即值不相等时为真值，相等时为假值，有缺失值参加运算时为缺失值</p><p><code class="language-plaintext highlighter-rouge">&amp;&amp;</code>和<code class="language-plaintext highlighter-rouge">||</code>分别为短路的标量逻辑与和短路的标量逻辑或，仅对两个标量进行运算，如果有向量也仅使用第一个元素。 一般用在if语句、while语句中，且只要第一个比较已经决定最终结果就不计算第二个比较</p><p>函数<code class="language-plaintext highlighter-rouge">which()</code>返回真值对应的所有下标</p><p>函数<code class="language-plaintext highlighter-rouge">identical(x,y)</code>比较两个R对象<code class="language-plaintext highlighter-rouge">x</code>与<code class="language-plaintext highlighter-rouge">y</code>的内容是否完全相同，结果只会取标量TRUE与FALSE两种</p><p>函数<code class="language-plaintext highlighter-rouge">duplicated()</code>返回每个元素是否为重复值的结果</p><p>用函数<code class="language-plaintext highlighter-rouge">unique()</code>可以返回去掉重复值的结果</p><h3 id="字符型数据及其处理"><span class="mr-2">字符型数据及其处理</span><a href="#字符型数据及其处理" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>一些常用函数 <code class="language-plaintext highlighter-rouge">paste(sep=" ", collapse="")</code>, <code class="language-plaintext highlighter-rouge">paste0()</code></p><p><code class="language-plaintext highlighter-rouge">toupper()</code>, <code class="language-plaintext highlighter-rouge">tolower()</code></p><p><code class="language-plaintext highlighter-rouge">substr(x, start, stop)</code></p><p><code class="language-plaintext highlighter-rouge">strsplit(x, string, fixed=FALSE)</code></p><p><code class="language-plaintext highlighter-rouge">as.numeric()</code>, <code class="language-plaintext highlighter-rouge">as.character()</code>, <code class="language-plaintext highlighter-rouge">sprintf()</code>格式化</p><p><code class="language-plaintext highlighter-rouge">gsub(pattern, replace, x)</code>可以替换字符串中的子串</p><p>把多于一个空格替换成一个空格</p><div class="language-R highlighter-rouge"><div class="code-header"> <span data-label-text="R"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">gsub</span><span class="p">(</span><span class="s1">'[[:space:]]+'</span><span class="p">,</span><span class="w"> </span><span class="s1">' '</span><span class="p">,</span><span class="w"> </span><span class="s1">'a   cat  in a box'</span><span class="p">,</span><span class="w"> </span><span class="n">perl</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span></pre></table></code></div></div><h2 id="r向量下标和子集"><span class="mr-2">R向量下标和子集</span><a href="#r向量下标和子集" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><code class="language-plaintext highlighter-rouge">which.min</code>、<code class="language-plaintext highlighter-rouge">which.max</code>求最小值的下标和最大值的下标</p><p>用<code class="language-plaintext highlighter-rouge">unname(x)</code>返回去掉了元素名的<code class="language-plaintext highlighter-rouge">x</code>的副本， 用<code class="language-plaintext highlighter-rouge">names(x) &lt;- NULL</code>可以去掉<code class="language-plaintext highlighter-rouge">x</code>的元素名</p><h2 id="r数据类型的性质"><span class="mr-2">R数据类型的性质</span><a href="#r数据类型的性质" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><code class="language-plaintext highlighter-rouge">NULL</code>值表示不存在。 <code class="language-plaintext highlighter-rouge">NULL</code>长度为0，不能有任何属性值</p><p><code class="language-plaintext highlighter-rouge">NA</code>是有类型的（integer、double、logical、character等), <code class="language-plaintext highlighter-rouge">NA</code>表示存在但是未知</p><p>类型升档:在用<code class="language-plaintext highlighter-rouge">c()</code>函数合并若干元素时，如果元素基本类型不同，将统一转换成最复杂的一个，复杂程度从简单到复杂依次为：<code class="language-plaintext highlighter-rouge">logical &lt; integer &lt; double &lt; character</code></p><p>除了<code class="language-plaintext highlighter-rouge">NULL</code>以外，R的变量都可以看成是对象，都可以有属性。 常用属性有<code class="language-plaintext highlighter-rouge">names</code>, <code class="language-plaintext highlighter-rouge">dim</code>，<code class="language-plaintext highlighter-rouge">class</code>等</p><p>可以用<code class="language-plaintext highlighter-rouge">attributes()</code>读取对象<code class="language-plaintext highlighter-rouge">x</code>的所有属性</p><p>可以用<code class="language-plaintext highlighter-rouge">attr(x, "属性名")</code>的格式读取或定义<code class="language-plaintext highlighter-rouge">x</code>的属性</p><p><strong>取矩阵子集时如果结果仅有一列或一行， 除非用了<code class="language-plaintext highlighter-rouge">drop=FALSE</code>选项， 结果不再有<code class="language-plaintext highlighter-rouge">dim</code>属性， 退化成了普通向量。</strong></p><p>R具有一定的面向对象语言特征，其数据类型有一个class属性,函数<code class="language-plaintext highlighter-rouge">class()</code>可以返回变量类型的类属</p><p><code class="language-plaintext highlighter-rouge">str()</code>函数可以显示对象的类型和主要结构及典型内容</p><h2 id="r日期时间"><span class="mr-2">R日期时间</span><a href="#r日期时间" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>因为我们平时不怎么遇到时间相关的转化或计算问题，所以这部分的内容大概了解一下就可以了</p><p>R扩展包<code class="language-plaintext highlighter-rouge">lubridate</code>提供了多个方便函数， 可以更容易地生成、转换、管理日期型和日期时间型数据</p><p><code class="language-plaintext highlighter-rouge">lubridate::ymd()</code>, <code class="language-plaintext highlighter-rouge">lubridate::mdy()</code>, <code class="language-plaintext highlighter-rouge">lubridate::dmy()</code>将字符型向量转换为日期型向量</p><p><code class="language-plaintext highlighter-rouge">lubridate::make_date(year, month, day)</code>可以从三个数值构成日期向量</p><p>as.character()中可以用format选项指定显示格式</p><p>lubridate包中的<code class="language-plaintext highlighter-rouge">wday()</code>可以取出日期在一个星期内的序号，但是一个星期从星期天开始，星期天为1,星期一为2，星期六为7，例如<code class="language-plaintext highlighter-rouge">wday(as.POSIXct("2018-1-17 13:15:40"))</code>为<code class="language-plaintext highlighter-rouge">4</code>表示星期三</p><h3 id="日期计算"><span class="mr-2">日期计算</span><a href="#日期计算" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>在lubridate的支持下日期可以相减，可以进行加法、除法</p><p>lubridate的<code class="language-plaintext highlighter-rouge">dseconds()</code>, <code class="language-plaintext highlighter-rouge">dminutes()</code>, <code class="language-plaintext highlighter-rouge">dhours()</code>, <code class="language-plaintext highlighter-rouge">ddays()</code>, <code class="language-plaintext highlighter-rouge">dweeks()</code>, <code class="language-plaintext highlighter-rouge">dyears()</code>函数可以直接生成时间长度类型的数据</p><p>用<code class="language-plaintext highlighter-rouge">unclass()</code>函数将时间长度数据的类型转换为以秒为单位的普通数值</p><p>lubridate提供了<code class="language-plaintext highlighter-rouge">%--%</code>运算符构造一个时间区间。 时间区间可以求交集、并集等</p><p>生成时间区间， 也可以用<code class="language-plaintext highlighter-rouge">lubridate::interval(start, end)</code>函数</p><p>把一个R日期时间值用<code class="language-plaintext highlighter-rouge">as.POSIXlt()</code>转换为<code class="language-plaintext highlighter-rouge">POSIXlt</code>类型， 就可以用列表元素方法取出其组成的年、月、日、时、分、秒等数值</p><h2 id="r因子类型"><span class="mr-2">R因子类型</span><a href="#r因子类型" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="factor"><span class="mr-2">factor</span><a href="#factor" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>因子的<code class="language-plaintext highlighter-rouge">levels</code>属性可以看成是一个映射，把整数值1,2,映射成这些水平值，因子在保存时会保存成1,2,等与水平值对应的编号</p><p>为了对因子执行字符型操作（如取子串），保险的做法是先用as.character()函数强制转换为字符型</p><div class="language-R highlighter-rouge"><div class="code-header"> <span data-label-text="R"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">factor</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">levels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sort</span><span class="p">(</span><span class="n">unique</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="w"> </span><span class="n">na.last</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">),</span><span class="w"> 
       </span><span class="n">labels</span><span class="p">,</span><span class="w"> </span><span class="n">exclude</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="n">ordered</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
</span></pre></table></code></div></div><h3 id="cut"><span class="mr-2">cut()</span><a href="#cut" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>连续取值的变量，可以用<code class="language-plaintext highlighter-rouge">cut()</code>函数将其分段，转换成因子。 使用<code class="language-plaintext highlighter-rouge">breaks</code>参数指定分点，最小分点要小于数据的最小值，最大分点要大于等于数据的最大值，默认使用左开右闭区间分组</p><p>可以指定<code class="language-plaintext highlighter-rouge">breaks</code>为一个正整数，表示将数据范围略扩大后进行<strong>等间距分组</strong></p><p>为了实现<strong>各组个数比较平均</strong>的分组，可以利用<code class="language-plaintext highlighter-rouge">quantile()</code>函数计算分位数作为分组</p><h3 id="forcats包的因子函数"><span class="mr-2">forcats包的因子函数</span><a href="#forcats包的因子函数" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><code class="language-plaintext highlighter-rouge">forcats::fct_reorder()</code>可以根据不同因子水平分成的组中另一数值型变量的统计量值排序</p><div class="language-R highlighter-rouge"><div class="code-header"> <span data-label-text="R"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="n">set.seed</span><span class="p">(</span><span class="m">1</span><span class="p">)</span><span class="w">
</span><span class="n">fac</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">sample</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s2">"red"</span><span class="p">,</span><span class="w"> </span><span class="s2">"green"</span><span class="p">,</span><span class="w"> </span><span class="s2">"blue"</span><span class="p">),</span><span class="w"> </span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="n">replace</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span><span class="n">fac</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="n">fac</span><span class="p">,</span><span class="w"> </span><span class="n">levels</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s2">"red"</span><span class="p">,</span><span class="w"> </span><span class="s2">"green"</span><span class="p">,</span><span class="w"> </span><span class="s2">"blue"</span><span class="p">))</span><span class="w">
</span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">round</span><span class="p">(</span><span class="m">100</span><span class="o">*</span><span class="p">(</span><span class="m">10</span><span class="o">+</span><span class="n">rt</span><span class="p">(</span><span class="m">30</span><span class="p">,</span><span class="m">2</span><span class="p">)))</span><span class="w">

</span><span class="n">fac2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">forcats</span><span class="o">::</span><span class="n">fct_reorder</span><span class="p">(</span><span class="n">fac</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">sd</span><span class="p">)</span><span class="w">

</span><span class="c1"># 将特定的一个或几个水平次序放到因子水平最前面</span><span class="w">
</span><span class="n">fac3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fct_relevel</span><span class="p">(</span><span class="n">fac</span><span class="p">,</span><span class="w"> </span><span class="s2">"blue"</span><span class="p">)</span><span class="w">

</span><span class="c1"># 修改每个水平的名称</span><span class="w">
</span><span class="n">fac4</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fct_recode</span><span class="p">(</span><span class="n">fac</span><span class="p">,</span><span class="w"> </span><span class="s2">"红"</span><span class="o">=</span><span class="s2">"red"</span><span class="p">,</span><span class="w"> </span><span class="s2">"绿"</span><span class="o">=</span><span class="s2">"green"</span><span class="p">,</span><span class="w"> </span><span class="s2">"蓝"</span><span class="o">=</span><span class="s2">"blue"</span><span class="p">)</span><span class="w">

</span><span class="c1"># 合并原来的水平</span><span class="w">
</span><span class="n">fct_collapse</span><span class="p">()</span><span class="w">
</span></pre></table></code></div></div><h2 id="列表类型"><span class="mr-2">列表类型</span><a href="#列表类型" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-R highlighter-rouge"><div class="code-header"> <span data-label-text="R"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="c1"># 把某个列表元素赋值为NULL就删掉这个元素</span><span class="w">
</span><span class="n">rec</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"李明"</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="o">=</span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="n">scores</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">85</span><span class="p">,</span><span class="w"> </span><span class="m">76</span><span class="p">,</span><span class="w"> </span><span class="m">90</span><span class="p">))</span><span class="w">
</span><span class="n">rec</span><span class="p">[[</span><span class="s2">"age"</span><span class="p">]]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kc">NULL</span><span class="w">
</span><span class="c1"># 在list()函数中允许定义元素为NULL，这样的元素是存在的</span><span class="w">
</span><span class="n">li</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="m">120</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="o">=</span><span class="s2">"F"</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="o">=</span><span class="kc">NULL</span><span class="p">)</span><span class="w">
</span><span class="c1"># 也可以把已经存在的元素修改为NULL值而不是删除此元素</span><span class="w">
</span><span class="n">li</span><span class="p">[</span><span class="s2">"b"</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="kc">NULL</span><span class="p">)</span><span class="w">
</span></pre></table></code></div></div><p>用<code class="language-plaintext highlighter-rouge">as.list()</code>把一个其它类型的对象转换成列表； 用<code class="language-plaintext highlighter-rouge">unlist()</code>函数把列表转换成基本向量，注意这个函数会解压所有的列表元素到<strong>一个</strong>向量中</p><h2 id="r矩阵和数组"><span class="mr-2">R矩阵和数组</span><a href="#r矩阵和数组" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><p>对矩阵<code class="language-plaintext highlighter-rouge">A</code>，<code class="language-plaintext highlighter-rouge">diag(A)</code>访问<code class="language-plaintext highlighter-rouge">A</code>的主对角线元素组成的向量。 另外，若<code class="language-plaintext highlighter-rouge">x</code>为正整数值标量，<code class="language-plaintext highlighter-rouge">diag(x)</code>返回<code class="language-plaintext highlighter-rouge">x</code>阶单位阵； 若<code class="language-plaintext highlighter-rouge">x</code>为长度大于1的向量， <code class="language-plaintext highlighter-rouge">diag(x)</code>返回以x的元素为主对角线元素的对角矩阵</p><li><p>若x是向量，<code class="language-plaintext highlighter-rouge">cbind(x)</code>把x变成列向量，即列数为1的矩阵，<code class="language-plaintext highlighter-rouge">rbind(x)</code>把x变成行向量</p><li><p>对两个同形状的矩阵， 用<code class="language-plaintext highlighter-rouge">*</code>表示两个矩阵对应元素相乘(注意这不是线性代数中的矩阵乘法)， 用<code class="language-plaintext highlighter-rouge">/</code>表示两个矩阵对应元素相除</p><li><p>用<code class="language-plaintext highlighter-rouge">%*%</code>表示矩阵乘法而不是用<code class="language-plaintext highlighter-rouge">*</code>表示， 注意矩阵乘法要求左边的矩阵的列数等于右边的矩阵的行数</p><li><p>设<code class="language-plaintext highlighter-rouge">x</code>, <code class="language-plaintext highlighter-rouge">y</code>是两个向量， 计算向量内积， 可以用<code class="language-plaintext highlighter-rouge">sum(x*y)</code>表示</p></ul><p>用<code class="language-plaintext highlighter-rouge">solve(A)</code>求<code class="language-plaintext highlighter-rouge">A</code>的逆矩阵</p><p>用<code class="language-plaintext highlighter-rouge">solve(A,b)</code>求解线性方程组Ax = b 中的x</p><h3 id="apply函数"><span class="mr-2">apply()函数</span><a href="#apply函数" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><code class="language-plaintext highlighter-rouge">apply(A, 2, FUN)</code>, 把矩阵或者数据框A的每一列分别输入到函数FUN中，得到对应于每一列的结果</p><p><code class="language-plaintext highlighter-rouge">apply(A, 1, FUN)</code>, 把矩阵或者数据框A的每一行分别输入到函数FUN中，得到与每一行对应的结果</p><h3 id="多维数组"><span class="mr-2">多维数组</span><a href="#多维数组" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-R highlighter-rouge"><div class="code-header"> <span data-label-text="R"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c1"># 三维数组ara可以看成是4个2X3矩阵</span><span class="w">
</span><span class="n">ara</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">array</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">24</span><span class="p">,</span><span class="w"> </span><span class="n">dim</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">))</span><span class="w">
</span></pre></table></code></div></div><h2 id="数据框"><span class="mr-2">数据框</span><a href="#数据框" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>在R markdown文件中，可以将数据框保存的表格显示为富文本格式，方法是使用<code class="language-plaintext highlighter-rouge">knitr::kable()</code>函数</p><p><code class="language-plaintext highlighter-rouge">split(x, f)</code>函数可以将向量或者数据框<code class="language-plaintext highlighter-rouge">x</code>按照<code class="language-plaintext highlighter-rouge">f</code>拆分，<code class="language-plaintext highlighter-rouge">f</code>可以是一组因子向量也可以是数据框中的一个变量，返回一个列表</p><h3 id="tibble"><span class="mr-2">tibble</span><a href="#tibble" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>从tibble取出的一列结果仍是tibble而不是向量， 为了提取一列为向量应使用双方括号格式或<code class="language-plaintext highlighter-rouge">$</code>格式</p><h1 id="编程模块">编程模块</h1><h2 id="r输入输出"><span class="mr-2">R输入输出</span><a href="#r输入输出" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><code class="language-plaintext highlighter-rouge">cat()</code>函数可以把字符串、变量、表达式连接起来显示,有<code class="language-plaintext highlighter-rouge">file=</code>和<code class="language-plaintext highlighter-rouge">append=TRUE</code>两个参数</p><p>read_csv()函数：参数<code class="language-plaintext highlighter-rouge">skip=</code>, <code class="language-plaintext highlighter-rouge">locale=locale()</code>,<code class="language-plaintext highlighter-rouge">col_names=</code>,<code class="language-plaintext highlighter-rouge">col_types</code>.</p><p><code class="language-plaintext highlighter-rouge">read_table2()</code>读入用空格作为间隔的文本文件，同一行的两个数据项之间可以用一个或多个空格分隔，不需要空格个数相同，也不需要上下对齐</p><h2 id="程序控制结构"><span class="mr-2">程序控制结构</span><a href="#程序控制结构" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>分支结构：if-else, ifelse(), dplyr::case_when()相当于ifelse的多分支推广，在mutate中需要根据条件定义一个新的变量的时候很有用<li>循环结构：for, 如果需要对某个向量x按照下标循环，获得所有下标序列的标准写法是<code class="language-plaintext highlighter-rouge">seq_along(x)</code><li>while()和repeat<div class="language-R highlighter-rouge"><div class="code-header"> <span data-label-text="R"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="c1"># 用泰勒展开逼近计算e的值</span><span class="w">
</span><span class="n">e0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">exp</span><span class="p">(</span><span class="m">1.0</span><span class="p">)</span><span class="w">
</span><span class="n">s</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1.0</span><span class="w">
</span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="w">
</span><span class="n">k</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">0</span><span class="w">
</span><span class="k">repeat</span><span class="p">{</span><span class="w">
</span><span class="n">k</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">k</span><span class="m">+1</span><span class="w">
</span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">x</span><span class="o">/</span><span class="n">k</span><span class="w">
</span><span class="n">s</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">x</span><span class="w">
  
</span><span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">.Machine</span><span class="o">$</span><span class="n">double.eps</span><span class="p">)</span><span class="w"> </span><span class="k">break</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="n">err</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">e0</span><span class="w">
</span><span class="n">cat</span><span class="p">(</span><span class="s2">"k="</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="s2">" s="</span><span class="p">,</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="s2">" e="</span><span class="p">,</span><span class="w"> </span><span class="n">e0</span><span class="p">,</span><span class="w"> </span><span class="s2">" 误差="</span><span class="p">,</span><span class="w"> </span><span class="n">err</span><span class="p">,</span><span class="w"> </span><span class="s2">"\n"</span><span class="p">)</span><span class="w">
</span></pre></table></code></div></div></ul><p>如果对向量每个元素遍历并保存结果，应在循环之前先将结果变量产生等长的存储，在循环内为已经分配好存储空间的输出向量的元素赋值。为了产生长度为n的数值型向量，用<code class="language-plaintext highlighter-rouge">numeric(n)</code>； 为了产生长度为n的列表，用<code class="language-plaintext highlighter-rouge">vector("list", n)</code></p><p>if和while中用到的条件必须是标量值，而且必须为TRUE or FALSE</p><h3 id="管道控制"><span class="mr-2">管道控制</span><a href="#管道控制" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>R从4.1.0版本开始提供了一个<code class="language-plaintext highlighter-rouge">|&gt;</code>运算符实现管道控制</p><h2 id="函数"><span class="mr-2">函数</span><a href="#函数" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>函数名 &lt;- function(形式参数表) 函数体，<em>函数也是一个对象</em></p><p>从R 4.1.0版本开始，简单的R函数还可以写成<code class="language-plaintext highlighter-rouge">\(x)</code> 表达式的形式, 用<code class="language-plaintext highlighter-rouge">\(x)</code>代替<code class="language-plaintext highlighter-rouge">function(x)</code>关键字</p><p>函数体的最后一个表达式是函数返回值, 为了返回多个变量值，将这些变量打包为一个列表返回即可</p><p>函数定义中的自变量叫做形式参数或形参(formal arguments)。 函数调用时，形式参数得到实际值，叫做实参(actual arguments)</p><p><code class="language-plaintext highlighter-rouge">formals()</code>可以查看函数的形式参数表</p><p>R中在递归调用时，最好用 <code class="language-plaintext highlighter-rouge">Recall()</code> 代表调用自身，这样保证函数即使被改名（在R中函数是一个对象，改名后仍然有效）递归调用仍指向原来定义</p><p>R中的无名函数类似于Python中的lambda匿名函数，只要<code class="language-plaintext highlighter-rouge">function(形式参数)</code>就可以</p><p><code class="language-plaintext highlighter-rouge">do.call(fun, list)</code>函数是用<code class="language-plaintext highlighter-rouge">list</code>中的所有元素作为<code class="language-plaintext highlighter-rouge">fun</code>的参数执行，因为<code class="language-plaintext highlighter-rouge">list</code>这个数据结构包容万物，所以这个函数在某些时候很有用，比如按行合并一个列表中的所有元素时，还可以用来优雅的处理函数的可选参数，具体讲解和例子可以参考<a href="https://mp.weixin.qq.com/s/eqFz_ateDkCuChNDNPbRhw">这篇优秀的推送</a></p><h3 id="变量作用域"><span class="mr-2">变量作用域</span><a href="#变量作用域" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><code class="language-plaintext highlighter-rouge">ls(pattern="^tmp[.]")</code>显示所有以<code class="language-plaintext highlighter-rouge">tmp.</code>开头的变量</p><p>在函数内部如果要修改全局变量的值，用 <code class="language-plaintext highlighter-rouge">&lt;&lt;-</code>代替<code class="language-plaintext highlighter-rouge">&lt;-</code>进行赋值</p><h2 id="r程序效率"><span class="mr-2">R程序效率</span><a href="#r程序效率" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="向量化编程"><span class="mr-2">向量化编程</span><a href="#向量化编程" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>尽量用R中内置的向量化的函数</p><h3 id="减少显式循环"><span class="mr-2">减少显式循环</span><a href="#减少显式循环" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><code class="language-plaintext highlighter-rouge">replicate()</code>函数可以用来执行某段程序若干次,一个例子：</p><div class="language-R highlighter-rouge"><div class="code-header"> <span data-label-text="R"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="n">set.seed</span><span class="p">(</span><span class="m">1</span><span class="p">)</span><span class="w">
</span><span class="n">replicate</span><span class="p">(</span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">rnorm</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">);</span><span class="w"> 
  </span><span class="nf">c</span><span class="p">(</span><span class="n">mean</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="w"> </span><span class="n">sd</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="p">})</span><span class="w">
</span></pre></table></code></div></div><h3 id="避免制作副本"><span class="mr-2">避免制作副本</span><a href="#避免制作副本" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>事先分配好用来保存结果的数据结构，在每次循环中填入相应结果<li>在循环内修改数据框的值会制作数据框副本，修改列表元素不会制作副本</ul><h3 id="r的计算函数"><span class="mr-2">R的计算函数</span><a href="#r的计算函数" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><h4 id="数学函数"><span class="mr-2">数学函数</span><a href="#数学函数" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><h4 id="概括函数"><span class="mr-2">概括函数</span><a href="#概括函数" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li><code class="language-plaintext highlighter-rouge">cumsum</code>和<code class="language-plaintext highlighter-rouge">cumprod</code>计算累计，得到和输入等长的向量结果<li><code class="language-plaintext highlighter-rouge">diff</code>计算前后两项的差分<li><code class="language-plaintext highlighter-rouge">quantile</code>计算样本分位数, <code class="language-plaintext highlighter-rouge">cor</code>计算相关系数<li><code class="language-plaintext highlighter-rouge">colSums</code>, <code class="language-plaintext highlighter-rouge">colMeans</code>, <code class="language-plaintext highlighter-rouge">rowSums</code>, <code class="language-plaintext highlighter-rouge">rowMeans</code>对矩阵的每列或每行计算总和或者平均值</ul><h4 id="最值"><span class="mr-2">最值</span><a href="#最值" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li><code class="language-plaintext highlighter-rouge">pmax</code>(x1,x2,…)对若干个等长向量计算对应元素的最大值</ul><h4 id="排序"><span class="mr-2">排序</span><a href="#排序" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li><code class="language-plaintext highlighter-rouge">sort</code>返回排序结果<li><code class="language-plaintext highlighter-rouge">order</code>返回排序用的下标序列<li><code class="language-plaintext highlighter-rouge">unique()</code>返回去掉重复元素的结果，<code class="language-plaintext highlighter-rouge">duplicated()</code>对每个元素用一个逻辑值表示是否与前面某个元素重复<li><code class="language-plaintext highlighter-rouge">rev</code>反转序列<li><code class="language-plaintext highlighter-rouge">rank</code>计算秩统计量</ul><h3 id="一元定积分"><span class="mr-2">一元定积分</span><a href="#一元定积分" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><code class="language-plaintext highlighter-rouge">integrate(f, lower, upper)</code>对一元函数f计算从lower到upper的定积分</p><h3 id="用filter函数作迭代"><span class="mr-2">用filter函数作迭代</span><a href="#用filter函数作迭代" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>向量自身迭代</p><h2 id="函数进阶"><span class="mr-2">函数进阶</span><a href="#函数进阶" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>任何成分都是R的对象<li>任何活动都是调用函数</ul><p>句法作用域(lexical scoping)， 即函数运行中需要使用某个变量时， 从其定义时的环境向外层逐层查找， 而不是在调用时的环境中查找</p><p>动态查找(dynamic lookup)，函数运行时在找到某个变量对应的存储空间后， 会使用该变量的当前值，而不是函数定义的时候该变量的历史值</p><p>辅助嵌套函数：只能在定义它的函数内运行， 不能被直接调用， 可以看成是函数内的私有函数</p><p>懒惰求值：懒惰求值使得缺省值在初次访问时， 是在函数内的环境（局部变量作用域）内求值的， 不是在其调用处的环境内求值</p><p>将每一个小问题编写成一个单独的函数，编写一系列的测试函数， 对每个函数进行测试，最好能有自动化的测试策略</p><h3 id="程序调试"><span class="mr-2">程序调试</span><a href="#程序调试" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>在函数中加browser()可以进行断点调试，在调试命令行 输入变量名查看变量值； 用<code class="language-plaintext highlighter-rouge">n</code>命令或者换行键逐句运行； 用<code class="language-plaintext highlighter-rouge">s</code>命令跟踪进调用的函数内部逐句运行； 用<code class="language-plaintext highlighter-rouge">f</code>命令快速执行到循环末尾或者函数末尾； 用<code class="language-plaintext highlighter-rouge">c</code>命令恢复正常运行，不再跟踪； 用<code class="language-plaintext highlighter-rouge">Q</code>命令强行终止程序运行。</p><p>条件断点: 用browser()函数与R的if结构配合可以制作条件断点</p><p><code class="language-plaintext highlighter-rouge">stop()</code>、<code class="language-plaintext highlighter-rouge">warning()</code>、<code class="language-plaintext highlighter-rouge">message()</code>，停止，警告和提示</p><p>函数<code class="language-plaintext highlighter-rouge">stopifnot</code>可以指定自变量的若干个条件， 当自变量不符合条件时自动出错停止。类似于Python中的assert</p><h3 id="泛函functionals"><span class="mr-2">泛函（functionals）</span><a href="#泛函functionals" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>使用purrr包中的<code class="language-plaintext highlighter-rouge">map</code>函数及其变种进行各种泛函分析。 <code class="language-plaintext highlighter-rouge">map</code>函数要求的输入格式是<code class="language-plaintext highlighter-rouge">map(data, function)</code>, map总是返回列表</p><p><code class="language-plaintext highlighter-rouge">map</code>变种及其性质</p><ul><li><code class="language-plaintext highlighter-rouge">map_lgl</code>：返回逻辑向量<li><code class="language-plaintext highlighter-rouge">map_int</code>：返回整型向量<li><code class="language-plaintext highlighter-rouge">map_dbl</code>: 返回双精度浮点型向量(double类型)<li><code class="language-plaintext highlighter-rouge">map_chr</code>: 返回字符型向量<li><code class="language-plaintext highlighter-rouge">modify</code>: 输出的数据类型与输入的数据类型一致，可用于对数据框特定列进行修改，如<code class="language-plaintext highlighter-rouge">modify(dataframe, ~ if(is.numeric(.x) .x-median(.x) else .x)</code>，可以先判断是否是数值型列，然后每一项减去中位数，也可以用<code class="language-plaintext highlighter-rouge">modify</code>的变种<code class="language-plaintext highlighter-rouge">modify_if()</code>写作<code class="language-plaintext highlighter-rouge">modify_if(dataframe, is.numeric, ~ .x-median(.x))</code><li><code class="language-plaintext highlighter-rouge">map2</code>: 支持两个输入自变量，输出也是一个列表，若提前已知输出类型，可用相应变种指定输出类型<li><code class="language-plaintext highlighter-rouge">walk</code>: 狭义上讲，这个函数不产生输出也即不返回数据，适用于一些作图和保存数据到文件的情况，如<code class="language-plaintext highlighter-rouge">d.class %&gt;% split(d.class, d.class[['sex']]) %&gt;% walk(paste0("class", names(.), '.csv'), ~ write.csv(.x, file=.y))</code>，这条命令首先将一个数据框按某一列分成两个，然后将分开的数据框分别写到两个文件中<li><code class="language-plaintext highlighter-rouge">imap</code>: 如果x有元素名，<code class="language-plaintext highlighter-rouge">imap(x, f)</code>相当于<code class="language-plaintext highlighter-rouge">map2(x, names(x), f)</code>； 如果x没有元素名，<code class="language-plaintext highlighter-rouge">imap(x, f)</code>相当于<code class="language-plaintext highlighter-rouge">map2(x, seq_along(x), f)</code><li><code class="language-plaintext highlighter-rouge">pmap</code>: 支持多个输入自变量<li><code class="language-plaintext highlighter-rouge">...</code>： 形参, 一个例子理解一下：<code class="language-plaintext highlighter-rouge">map_dbl(d.class[,3:5], mean, trim=0.10)</code>中的<code class="language-plaintext highlighter-rouge">trim=0.10</code>就是map函数的<code class="language-plaintext highlighter-rouge">...</code>形参</ul><p><code class="language-plaintext highlighter-rouge">purrr::reduce</code>函数: 可以用来对输入列表或向量的元素逐次的用给定的函数进行合并运算，类似于用<code class="language-plaintext highlighter-rouge">sum</code>和<code class="language-plaintext highlighter-rouge">prod</code>进行累加和累乘 <code class="language-plaintext highlighter-rouge">purrr::accumulate</code>函数: 就像<code class="language-plaintext highlighter-rouge">reduce</code>函数是<code class="language-plaintext highlighter-rouge">sum</code>的推广，<code class="language-plaintext highlighter-rouge">accumulate</code>函数就像是<code class="language-plaintext highlighter-rouge">cumsum</code>的推广</p><p>示性函数：返回逻辑向量的函数，示性函数可以作为泛函的输入，purrr包中以示性函数为输入的泛函有</p><ul><li><code class="language-plaintext highlighter-rouge">keep(.x, .p)</code>: 保留满足<code class="language-plaintext highlighter-rouge">.p</code>条件的元素<li><code class="language-plaintext highlighter-rouge">discard</code>: 与<code class="language-plaintext highlighter-rouge">keep</code>相反</ul><p>基本R中的泛函： <code class="language-plaintext highlighter-rouge">apply</code>类函数</p><ul><li><code class="language-plaintext highlighter-rouge">apply(x, 2, fun)</code>: 输入矩阵或数据框，返回矩阵或数据框<li><code class="language-plaintext highlighter-rouge">lapply(x, fun, ...)</code>: 输入列表，返回列表，<code class="language-plaintext highlighter-rouge">...</code>表示可以添加参数到<code class="language-plaintext highlighter-rouge">fun</code>中<li><code class="language-plaintext highlighter-rouge">sapply()</code>: 优先尝试返回向量或矩阵，不可行时才返回列表<li><code class="language-plaintext highlighter-rouge">mapply()</code>: 可以支持多个输入自变量，类似于<code class="language-plaintext highlighter-rouge">map2</code></ul><p>函数工厂是指返回函数的函数</p><h2 id="取颜色"><span class="mr-2">取颜色</span><a href="#取颜色" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-R highlighter-rouge"><div class="code-header"> <span data-label-text="R"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="n">library</span><span class="p">(</span><span class="n">RColorBrewer</span><span class="p">)</span><span class="w">
</span><span class="n">display.brewer.all</span><span class="p">()</span><span class="w">
</span><span class="n">display.brewer.pal</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">8</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Dark2'</span><span class="p">)</span><span class="w">
</span><span class="n">brewer.pal</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">8</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Dark2"</span><span class="p">)</span><span class="w">
</span><span class="c1"># "#1B9E77" "#D95F02" "#7570B3" "#E7298A" "#66A61E" "#E6AB02" "#A6761D" "#666666"</span><span class="w">
</span><span class="n">colorRampPalette</span><span class="p">(</span><span class="n">brewer.pal</span><span class="p">(</span><span class="m">8</span><span class="p">,</span><span class="s2">"Dark2"</span><span class="p">))(</span><span class="m">9</span><span class="p">)</span><span class="w">
</span><span class="c1"># "#1B9E77" "#C16610" "#8D6B86" "#BC4399" "#A66753" "#96A713" "#D59D08" "#9D7426" "#666666"</span><span class="w">
</span><span class="c1"># 通过这种方法可以构建新的颜色板然后从其中取任意数量的颜色</span><span class="w">
</span></pre></table></code></div></div><h2 id="批量读入文件合并到一个数据框中"><span class="mr-2">批量读入文件，合并到一个数据框中</span><a href="#批量读入文件合并到一个数据框中" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-R highlighter-rouge"><div class="code-header"> <span data-label-text="R"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="c1"># 这里以读入三个read depth文件为例</span><span class="w">
</span><span class="n">listfiles</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dir</span><span class="p">(</span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'depth'</span><span class="p">,</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">paste0</span><span class="p">(</span><span class="s1">'^'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Sample_'</span><span class="p">,</span><span class="w"> </span><span class="n">samplename</span><span class="p">),</span><span class="w"> </span><span class="n">full.names</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">T</span><span class="p">)</span><span class="w">
</span><span class="n">listdepth</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">vector</span><span class="p">(</span><span class="s1">'list'</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="p">)</span><span class="w">
</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nf">seq_along</span><span class="p">(</span><span class="n">listdepth</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">listdepth</span><span class="p">[[</span><span class="n">i</span><span class="p">]]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.delim</span><span class="p">(</span><span class="n">listfiles</span><span class="p">[[</span><span class="n">i</span><span class="p">]],</span><span class="w"> </span><span class="n">col.names</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'ref'</span><span class="p">,</span><span class="s1">'position'</span><span class="p">,</span><span class="s1">'depth'</span><span class="p">),</span><span class="w"> </span><span class="n">header</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">F</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="n">avgDepth</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">do.call</span><span class="p">(</span><span class="n">rbind</span><span class="p">,</span><span class="w"> </span><span class="n">listdepth</span><span class="p">)</span><span class="w">
</span></pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">Ctrl+Alt+Shift+R</code>插入函数文档注释 <a href="https://zhuanlan.zhihu.com/p/150568854">https://zhuanlan.zhihu.com/p/150568854</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/r/'>R</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/learningnotes/" class="post-tag no-text-decoration" >LearningNotes</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%E6%9D%8E%E4%B8%9C%E9%A3%8ER%E6%95%99%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0+-+Jiahong%27s+Blog&url=%2Fposts%2FLidongfeng-R-learning-notes%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%E6%9D%8E%E4%B8%9C%E9%A3%8ER%E6%95%99%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0+-+Jiahong%27s+Blog&u=%2Fposts%2FLidongfeng-R-learning-notes%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=%2Fposts%2FLidongfeng-R-learning-notes%2F&text=%E6%9D%8E%E4%B8%9C%E9%A3%8ER%E6%95%99%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0+-+Jiahong%27s+Blog" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/learningnotes/">LearningNotes</a> <a class="post-tag" href="/tags/tutorial/">Tutorial</a> <a class="post-tag" href="/tags/basic-concepts/">Basic concepts</a> <a class="post-tag" href="/tags/chirpy/">Chirpy</a> <a class="post-tag" href="/tags/jekyll/">Jekyll</a> <a class="post-tag" href="/tags/lijian/">Lijian</a> <a class="post-tag" href="/tags/make/">Make</a> <a class="post-tag" href="/tags/mamba/">Mamba</a> <a class="post-tag" href="/tags/poem/">Poem</a> <a class="post-tag" href="/tags/snakemake/">Snakemake</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/LiaoXuefeng-Python-learning-notes/"><div class="card-body"> <em class="small" data-ts="1651881600" data-df="ll" > May 7, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>廖雪峰Python3教程学习笔记</h3><div class="text-muted small"><p> 教程地址 学完之后体会： 这部教程前面的基础部分讲解的很详细，很适合入门 对生信研究人员来说看到常用内建模块那一章就可以了，后面的内容在生信里应用不多 但是后半部分的内容才是Python真正的优势所在 Python基础 字符串和编码 ASCII编码：编码英文 Unicode编码：编码所有字符 UTF-8编码：可变长编码编码所有字符 最早的计算机在设计时采用8个比特（b...</p></div></div></a></div><div class="card"> <a href="/posts/Buffalo-bioinformaticsDS-learning/"><div class="card-body"> <em class="small" data-ts="1660089600" data-df="ll" > Aug 10, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Notes for Bioinfomatics Data Skills</h3><div class="text-muted small"><p> 1. How to learn bioinformatics Assert about assumptions: Python’s assert() and R’s stopifnot() Develop frequently used scripts into tools 2. Setting up and managing a bioinformatics project...</p></div></div></a></div><div class="card"> <a href="/posts/ComplexHeatmap-learning/"><div class="card-body"> <em class="small" data-ts="1658102400" data-df="ll" > Jul 18, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>ComplexHeatmap LearingNotes</h3><div class="text-muted small"><p> Tutorial websites When drawing a heatmap, I think following points are important: assign beautiful colors in regard to numerical variables and categorical variables 1.1 integer number or float...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/LiaoXuefeng-Python-learning-notes/" class="btn btn-outline-primary" prompt="Older"><p>廖雪峰Python3教程学习笔记</p></a> <a href="/posts/Make-learning-notes/" class="btn btn-outline-primary" prompt="Newer"><p>Make Tutorial</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/sunjh22">Sun Jiahong</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/learningnotes/">LearningNotes</a> <a class="post-tag" href="/tags/tutorial/">Tutorial</a> <a class="post-tag" href="/tags/basic-concepts/">Basic concepts</a> <a class="post-tag" href="/tags/chirpy/">Chirpy</a> <a class="post-tag" href="/tags/jekyll/">Jekyll</a> <a class="post-tag" href="/tags/lijian/">Lijian</a> <a class="post-tag" href="/tags/make/">Make</a> <a class="post-tag" href="/tags/mamba/">Mamba</a> <a class="post-tag" href="/tags/poem/">Poem</a> <a class="post-tag" href="/tags/snakemake/">Snakemake</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script async src="https://cdn.jsdelivr.net/npm/countup.js@1.9.3/dist/countUp.min.js"></script> <script defer src="/assets/js/dist/pvreport.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
